<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
         let stocks={
        fruits:['strawberry','gaphes','apple','banana'],
        liquid:['water','ice','milk'],
        holder:['cup','cone','stick'],
        toppins:['chochlate','dryfruits']
    }
    let is_shop_open=true;

    let order=(time,work)=>{
        return new Promise((resolve,reject)=>{
            if(is_shop_open){
                setTimeout(()=>{resolve(work())},time)
            }
            else{
                reject(console.log("shop is closed."))
            }
        })
    }
    order(2000,()=>{console.log(`${stocks.fruits[1]} was selected`)})

    .then(()=>{
        return order(750,()=>{console.log(`production is statrted`)})
    })
    .then(()=>{
        return order(2000,()=>{console.log(`${stocks.liquid[0]} was added`)})
    })
    .then(()=>{
        return order(1000,()=>{console.log(`ice cream was placed in ${stocks.holder[1]} `)})
    })
    .then(()=>{
        return order(2000,()=>{console.log(`${stocks.toppins[1]} was added in icecream`)})
    })
    .then(()=>{
        return order(2000,()=>{console.log(`ice cream served ...thank you`)})
    })
    .catch(()=>{
        console.log("customer left")
    })
    .finally(()=>{
        console.log("thanks for visit")
    })
    </script>
</body>
</html>